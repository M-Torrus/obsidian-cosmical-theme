/* PROPERTIES BASE STYLING */

.theme-dark,
.theme-light {
	--metadata-gap: 0;
	--metadata-input-font-size: max(var(--font-ui-small), 0.9em);
	--metadata-label-font-size: max(var(--font-ui-small), 0.9em);

	.metadata-property-key .metadata-property-icon,
	.metadata-add-button {
		--icon-size: var(--icon-s);
	}

	.metadata-add-button {
		margin-top: 0.25rem !important;
	}

	.collapse-indicator {
		--collapse-icon-color-collapsed: var(--darker-property-color);
		opacity: 1;
	}

	.metadata-properties-title {
		font-size: max(var(--font-ui-small), 0.9em);
		color: var(--text-muted);
		color: var(--darker-property-color);
		font-weight: 400;
	}
}

/* increases the width of the properties labels */
.increase-metadata-label-width {
	--metadata-label-width: max(22.5%, 8rem);
}

/* Hide property icons */
.hide-properties-icons {
	.metadata-property-key .metadata-property-icon {
		display: none;
	}
}

/* FONT PROPERTIES */
.enable-custom-fonts {
	.metadata-properties,
	.metadata-properties *,
	.metadata-add-button,
	.metadata-properties-heading {
		font-family: var(--custom-font-properties);
	}
}

/* BOLD PROPERTY LABEL */
.enable-bold-font-label-properties,
.enable-bold-font-label-properties {
	--metadata-label-font-weight: 600;
}

/* PROPERTIES COLOR VARIANTS - OKLCH System */
body {
	/* Default color scheme (neutral) */
	--property-l: 0.75;
	--property-c: 0.05;
	--property-h: 50;
}

/* Theme-specific luminosity adjustments */
.theme-dark {
	/* Dark mode: brighter colors for contrast */
	--property-label-l: calc(var(--property-l) + 0.05);
	--property-input-l: calc(var(--property-l) + 0.12);
	--property-icon-l: calc(var(--property-l) - 0.05);
}

.theme-light {
	/* Light mode: darker colors for contrast */
	--property-label-l: calc(var(--property-l) - 0.25);
	--property-input-l: calc(var(--property-l) - 0.18);
	--property-icon-l: calc(var(--property-l) - 0.30);
}

/* Chroma adjustments for label and input */
body {
	--property-label-c: var(--property-c);
	--property-input-c: calc(var(--property-c) + 0.02);
	--property-icon-c: calc(var(--property-c) - 0.01);
}

/* Color variables using OKLCH */
body {
	--property-label-color: oklch(var(--property-label-l) var(--property-label-c) var(--property-h));
	--property-input-color: oklch(var(--property-input-l) var(--property-input-c) var(--property-h));
	--property-icon-color: oklch(var(--property-icon-l) var(--property-icon-c) var(--property-h));

	/* Legacy variable for compatibility */
	--darker-property-color: var(--property-icon-color);

	/* Property elements */

	/* property icon */
	.metadata-property-key .metadata-property-icon {
		--icon-color: var(--property-icon-color);
	}

	/* property label */
	--metadata-label-text-color: var(--property-label-color);

	/* metadata input */
	--metadata-input-text-color: var(--property-input-color);

	.metadata-property .metadata-input-text,
	.metadata-property .metadata-input-number,
	.metadata-property .multi-select-container {
		color: var(--metadata-input-text-color);
	}

	.metadata-container {
		--checkbox-color: var(--property-input-color);
		--link-color: var(--property-input-color);
		--link-external-color: var(--property-input-color);
	}

	/* metadata add button */
	.metadata-add-button {
		color: var(--property-icon-color);
		cursor: pointer;
	}

	.metadata-add-button:hover {
		color: var(--property-label-color);
	}

	/* Sidepanel properties icon */
	[data-type="file-properties"].is-active .workspace-tab-header-inner,
	[data-type="all-properties"].is-active .workspace-tab-header-inner {
		background-color: oklch(var(--property-label-l) var(--property-label-c) var(--property-h) / 0.15);
	}

	.mod-left-split
		.workspace-tab-header[data-type="all-properties"]
		.workspace-tab-header-inner-icon {
		color: var(--property-label-color);
	}
}

/* PROPERTIES LABEL */
.metadata-properties-heading {
	display: none;
}

.show-properties-label .metadata-properties-heading {
	display: inline-block;
}
